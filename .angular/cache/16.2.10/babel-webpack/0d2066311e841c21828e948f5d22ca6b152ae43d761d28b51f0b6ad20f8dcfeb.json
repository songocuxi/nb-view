{"ast":null,"code":"import { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/toast-box-modal.service\";\nimport * as i2 from \"src/app/core/services/field/field.service\";\nimport * as i3 from \"src/app/core/services/local-storage.service\";\nimport * as i4 from \"src/app/core/services/value/value.service\";\nimport * as i5 from \"src/app/core/services/project/project.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@fortawesome/angular-fontawesome\";\nfunction NotebookViewComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"div\", 8)(3, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function NotebookViewComponent_div_8_Template_input_ngModelChange_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const field_r1 = restoredCtx.$implicit;\n      return i0.ɵɵresetView((field_r1 == null ? null : field_r1.fieldValues[0]).value = $event);\n    })(\"keyup\", function NotebookViewComponent_div_8_Template_input_keyup_3_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onChangeInput());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const field_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", field_r1.fieldName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", field_r1 == null ? null : field_r1.fieldValues[0].value);\n  }\n}\nexport class NotebookViewComponent {\n  constructor(toastSV, fieldSV, localStorageSV, valueSV, processSV, router) {\n    this.toastSV = toastSV;\n    this.fieldSV = fieldSV;\n    this.localStorageSV = localStorageSV;\n    this.valueSV = valueSV;\n    this.processSV = processSV;\n    this.router = router;\n    this.faArrowLeft = faArrowLeft;\n    this.fieldList = [];\n    this.fieldListValue = [];\n    this.processSV.getProjectById(this.localStorageSV.getItem(\"project\")?.projectId).subscribe(project => {\n      this.processInfo = project;\n    });\n    this.fieldSV.getFieldByNotebookId(this.localStorageSV.getItem(\"notebook\")?.notebookId).subscribe(data => {\n      this.fieldList = data;\n      this.fieldList.forEach(item => {\n        item.fieldValues.push({\n          value: ''\n        });\n      });\n      console.log(\"data\", data);\n      // this.fieldList.forEach((field: any, index) => {\n      //   this.valueSV.\n      // })\n    });\n    // this.valueSV.getValueList().subscribe((data: any) => {\n    //   this.fieldList = data;\n    //   this.fieldList.forEach((item: any) => {\n    //     this.fieldSV.getFieldById(item.valueFieldId).subscribe((field: any) => {\n    //       // console.log(field);\n    //       item.fieldName = field.fieldName;\n    //       console.log(this.fieldList);\n    //     })\n    //   })\n    // })\n  }\n\n  onChangeInput() {\n    console.log(this.fieldList);\n  }\n  save() {\n    this.fieldList.forEach(item => {\n      console.log(\"item: \", item);\n      if (item?.fieldValues[0] != undefined || item?.fieldValues[0] != '') {\n        let fieldValue = {\n          value: item.fieldValues[0].value,\n          valueFieldId: item.fieldId\n        };\n        console.log(\"field value: \", fieldValue);\n        this.valueSV.createValue(fieldValue).subscribe(data => {\n          console.log(data);\n        });\n      }\n    });\n    setTimeout(() => {\n      this.toastSV.sendMessage({\n        isDisplay: true,\n        message: 'Cập nhật notebook thành công',\n        icon: 'success'\n      });\n    }, 1000);\n    // this.valueSV.createValue\n  }\n\n  backtoDetail() {\n    this.router.navigateByUrl(\"/farmer/process/detail\");\n  }\n  static #_ = this.ɵfac = function NotebookViewComponent_Factory(t) {\n    return new (t || NotebookViewComponent)(i0.ɵɵdirectiveInject(i1.ToastBoxModalService), i0.ɵɵdirectiveInject(i2.FieldService), i0.ɵɵdirectiveInject(i3.LocalStorageService), i0.ɵɵdirectiveInject(i4.ValueService), i0.ɵɵdirectiveInject(i5.ProjectService), i0.ɵɵdirectiveInject(i6.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NotebookViewComponent,\n    selectors: [[\"app-notebook-view\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[1, \"notebook\"], [1, \"notebook__back\", 3, \"click\"], [3, \"icon\"], [1, \"heading\"], [1, \"details\"], [\"class\", \"infomation-title__name\", 4, \"ngFor\", \"ngForOf\"], [1, \"save-btn\", 3, \"click\"], [1, \"infomation-title__name\"], [1, \"infomation-title__name-input\"], [3, \"ngModel\", \"ngModelChange\", \"keyup\"]],\n    template: function NotebookViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵlistener(\"click\", function NotebookViewComponent_Template_div_click_1_listener() {\n          return ctx.backtoDetail();\n        });\n        i0.ɵɵelement(2, \"fa-icon\", 2);\n        i0.ɵɵtext(3, \" Quay l\\u1EA1i \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵtext(7, \" S\\u1ED5 nh\\u1EADt k\\u00FD \");\n        i0.ɵɵtemplate(8, NotebookViewComponent_div_8_Template, 4, 2, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵlistener(\"click\", function NotebookViewComponent_Template_div_click_9_listener() {\n          return ctx.save();\n        });\n        i0.ɵɵtext(10, \" Save \");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"icon\", ctx.faArrowLeft);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.processInfo.projectName, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.fieldList);\n      }\n    },\n    dependencies: [i7.NgForOf, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgModel, i9.FaIconComponent],\n    styles: [\".align-center[_ngcontent-%COMP%], .abc[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.shadow-bottom[_ngcontent-%COMP%] {\\n  box-shadow: 0 5px 8px rgba(182, 182, 182, 0.75);\\n}\\n\\n.shadow[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 0 8px 0.5px rgba(128, 128, 128, 0.308);\\n}\\n\\n.heading1[_ngcontent-%COMP%] {\\n  font-size: 32px;\\n  font-weight: 400;\\n}\\n\\n.heading2[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  font-weight: 400;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  width: 100%;\\n  height: 40px;\\n  padding: 0 5px;\\n  background-color: #f8f8f8;\\n  border: none;\\n  border-bottom: 1px solid black;\\n  transition: all 0.3s ease;\\n}\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  padding: 0 10px;\\n  transition: all 0.3s ease;\\n  background-color: white;\\n}\\n\\n.notebook[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  margin: auto;\\n  width: 40%;\\n  background-color: #E9EDF0;\\n}\\n.notebook__back[_ngcontent-%COMP%] {\\n  padding: 20px 0;\\n  padding-bottom: 0;\\n  cursor: pointer;\\n}\\n.notebook__back[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%] {\\n  margin-right: 5px;\\n}\\n.notebook[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%] {\\n  font-size: 30px;\\n}\\n.notebook[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  font-size: 30px;\\n}\\n.notebook[_ngcontent-%COMP%]   .infomation-title__name[_ngcontent-%COMP%] {\\n  padding: 15px;\\n  width: 100%;\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  justify-content: space-between;\\n  background-color: #f8f8f8;\\n}\\n.notebook[_ngcontent-%COMP%]   .infomation-title__address[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 15px;\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  justify-content: space-between;\\n  background-color: #f8f8f8;\\n}\\n.notebook[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%] {\\n  width: 170px;\\n  height: 50px;\\n  background-color: #1a2848;\\n  border: 1px solid #1a2848;\\n  text-align: center;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  color: white;\\n  border-radius: 3px;\\n  cursor: pointer;\\n  color: #f8f8f8;\\n  border-radius: 3px;\\n  margin-right: 10px;\\n}\\n.notebook[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover {\\n  filter: brightness(90%);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hc3NldHMvc2Nzcy9zYXNzLWNvbmZpZy5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vTCVDMyVBMG0vTmV3JTIwZm9sZGVyL25iLXZpZXcvc3JjL2FwcC9mZWF0dXJlL2Zhcm1lci9mYXJtZXItbm90ZWJvb2svY29tcG9uZW50cy9ub3RlYm9vay12aWV3L25vdGVib29rLXZpZXcuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL2ZlYXR1cmUvZmFybWVyL2Zhcm1lci1ub3RlYm9vay9jb21wb25lbnRzL25vdGVib29rLXZpZXcvbm90ZWJvb2stdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1QkE7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQ3RCSjs7QUQ2QkE7RUFHSSwrQ0FBQTtBQzFCSjs7QUQ2QkE7RUFDSSxvREFBQTtBQzFCSjs7QUQ2QkE7RUFFUSxlQUFBO0VBQ0EsZ0JBQUE7QUMzQlI7O0FEK0JBO0VBRVEsZUFBQTtFQUNBLGdCQUFBO0FDN0JSOztBQ3RCQTtFQUNJLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsOEJBQUE7RUFDQSx5QkFBQTtBRHlCSjtBQ3hCSTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7RUFDQSx1QkFBQTtBRDBCUjs7QUN0QkE7RUFDSSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtBRHlCSjtBQ3hCSTtFQUlJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUR1QlI7QUM1QlE7RUFDSSxpQkFBQTtBRDhCWjtBQ3hCSTtFQUNJLGVBQUE7QUQwQlI7QUN2Qkk7RUFDSSxnQkFBQTtFQUNBLG1CQUFBO0VBR0EsZUFBQTtBRHVCUjtBQ2xCUTtFQUNJLGFBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EseUJBQUE7QURvQlo7QUNoQlE7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLHlCQUFBO0FEa0JaO0FDWEk7RUY5REEsWUUrRG9CO0VGOURwQixZRThEMEI7RUY3RDFCLHlCQVRRO0VBVVIseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFRXNESSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBRHVCUjtBRDlFSTtFQUNJLHVCQUFBO0FDZ0ZSIiwic291cmNlc0NvbnRlbnQiOlsiJGRhcmstYmx1ZTogIzFhMjg0ODtcclxuJHJlZDogI2UzMjM0NztcclxuJGdyZWVuOiAjMjNjNDc2O1xyXG4kb3JhbmdlOiAjZjE4NTNiO1xyXG4kZ3JheTogI2U5ZWRmMDtcclxuXHJcbkBtaXhpbiBidXR0b24gKCR3aWR0aCwgJGhlaWdodCwgJGJhY2tncm91bmQtY29sb3IsICRib3JkZXItY29sb3I6ICRiYWNrZ3JvdW5kLWNvbG9yKSB7XHJcbiAgICB3aWR0aDogJHdpZHRoO1xyXG4gICAgaGVpZ2h0OiAkaGVpZ2h0O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAkYm9yZGVyLWNvbG9yO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICY6aG92ZXIge1xyXG4gICAgICAgIGZpbHRlcjogYnJpZ2h0bmVzcyg5MCUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4uYWxpZ24tY2VudGVyLCAlYWxpZ24tY2VudGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hYmMge1xyXG4gICAgQGV4dGVuZCAlYWxpZ24tY2VudGVyO1xyXG59XHJcblxyXG4uc2hhZG93LWJvdHRvbSwgJXNoYWRvdy1ib3R0b20ge1xyXG4gICAgLW1vei1ib3gtc2hhZG93OjAgNXB4IDhweCByZ2JhKDE4MiwgMTgyLCAxODIsIDAuNzUpO1xyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDVweCA4cHggcmdiYSgxODIsIDE4MiwgMTgyLCAwLjc1KTtcclxuICAgIGJveC1zaGFkb3c6IDAgNXB4IDhweCByZ2JhKDE4MiwgMTgyLCAxODIsIDAuNzUpO1xyXG59XHJcblxyXG4uc2hhZG93LCAlc2hhZG93IHtcclxuICAgIGJveC1zaGFkb3c6IDAgMCA4cHggMC41cHggcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjMwOCk7XHJcbn1cclxuXHJcbi5oZWFkaW5nMSwgJWhlYWRpbmcxIHtcclxuICAgIGZvbnQ6IHtcclxuICAgICAgICBzaXplOiAzMnB4O1xyXG4gICAgICAgIHdlaWdodDogNDAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4uaGVhZGluZzIsICVoZWFkaW5nMiB7XHJcbiAgICBmb250OiB7XHJcbiAgICAgICAgc2l6ZTogMjRweDtcclxuICAgICAgICB3ZWlnaHQ6IDQwMDtcclxuICAgIH1cclxufVxyXG4iLCIuYWxpZ24tY2VudGVyLCAuYWJjIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5zaGFkb3ctYm90dG9tIHtcbiAgLW1vei1ib3gtc2hhZG93OiAwIDVweCA4cHggcmdiYSgxODIsIDE4MiwgMTgyLCAwLjc1KTtcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDVweCA4cHggcmdiYSgxODIsIDE4MiwgMTgyLCAwLjc1KTtcbiAgYm94LXNoYWRvdzogMCA1cHggOHB4IHJnYmEoMTgyLCAxODIsIDE4MiwgMC43NSk7XG59XG5cbi5zaGFkb3csIGlucHV0OmZvY3VzIHtcbiAgYm94LXNoYWRvdzogMCAwIDhweCAwLjVweCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuMzA4KTtcbn1cblxuLmhlYWRpbmcxIHtcbiAgZm9udC1zaXplOiAzMnB4O1xuICBmb250LXdlaWdodDogNDAwO1xufVxuXG4uaGVhZGluZzIge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG5cbmlucHV0IHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNDBweDtcbiAgcGFkZGluZzogMCA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuaW5wdXQ6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xuICBwYWRkaW5nOiAwIDEwcHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4ubm90ZWJvb2sge1xuICBwYWRkaW5nOiAyMHB4O1xuICBtYXJnaW46IGF1dG87XG4gIHdpZHRoOiA0MCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNFOUVERjA7XG59XG4ubm90ZWJvb2tfX2JhY2sge1xuICBwYWRkaW5nOiAyMHB4IDA7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4ubm90ZWJvb2tfX2JhY2sgZmEtaWNvbiB7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuLm5vdGVib29rIC5oZWFkaW5nIHtcbiAgZm9udC1zaXplOiAzMHB4O1xufVxuLm5vdGVib29rIC5oZWFkaW5nIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgZm9udC1zaXplOiAzMHB4O1xufVxuLm5vdGVib29rIC5pbmZvbWF0aW9uLXRpdGxlX19uYW1lIHtcbiAgcGFkZGluZzogMTVweDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcbn1cbi5ub3RlYm9vayAuaW5mb21hdGlvbi10aXRsZV9fYWRkcmVzcyB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxNXB4O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XG59XG4ubm90ZWJvb2sgLnNhdmUtYnRuIHtcbiAgd2lkdGg6IDE3MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTI4NDg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMxYTI4NDg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiAjZjhmOGY4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cbi5ub3RlYm9vayAuc2F2ZS1idG46aG92ZXIge1xuICBmaWx0ZXI6IGJyaWdodG5lc3MoOTAlKTtcbn0iLCJAaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi8uLi9hc3NldHMvc2Nzcy9zYXNzLWNvbmZpZy5zY3NzJztcclxuXHJcbmlucHV0e1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgcGFkZGluZzogMCA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOGY4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICAgICY6Zm9jdXMge1xyXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xyXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgQGV4dGVuZCAlc2hhZG93O1xyXG4gICAgfVxyXG59XHJcbi5ub3RlYm9va3tcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICB3aWR0aDogNDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0U5RURGMCA7XHJcbiAgICAmX19iYWNrIHtcclxuICAgICAgICBmYS1pY29uIHtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhZGRpbmc6IDIwcHggMDtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB9XHJcbiAgICAuaGVhZGluZ3tcclxuICAgICAgICBmb250LXNpemU6IDMwcHg7XHJcblxyXG4gICAgfVxyXG4gICAgLmhlYWRpbmd7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgICAgIC8vIHBhZGRpbmc6IDE1cHg7XHJcbiAgICAgICAgLy8gbWFyZ2luOiAyMHB4IDAgMjBweCAwO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMzBweDtcclxuICAgICAgICAvLyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOGY4O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgICAgLmluZm9tYXRpb24tdGl0bGVfX25hbWV7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuaW5mb21hdGlvbi10aXRsZV9fYWRkcmVzc3tcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcclxuICAgICAgICB9XHJcblxyXG4gICAgLmRldGFpbHN7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC5zYXZlLWJ0bntcclxuICAgICAgICBAaW5jbHVkZSBidXR0b24oMTcwcHgsNTBweCwgJGRhcmstYmx1ZSk7XHJcbiAgICAgICAgY29sb3I6ICNmOGY4Zjg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["faArrowLeft","i0","ɵɵelementStart","ɵɵtext","ɵɵlistener","NotebookViewComponent_div_8_Template_input_ngModelChange_3_listener","$event","restoredCtx","ɵɵrestoreView","_r4","field_r1","$implicit","ɵɵresetView","fieldValues","value","NotebookViewComponent_div_8_Template_input_keyup_3_listener","ctx_r5","ɵɵnextContext","onChangeInput","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","fieldName","ɵɵproperty","NotebookViewComponent","constructor","toastSV","fieldSV","localStorageSV","valueSV","processSV","router","fieldList","fieldListValue","getProjectById","getItem","projectId","subscribe","project","processInfo","getFieldByNotebookId","notebookId","data","forEach","item","push","console","log","save","undefined","fieldValue","valueFieldId","fieldId","createValue","setTimeout","sendMessage","isDisplay","message","icon","backtoDetail","navigateByUrl","_","ɵɵdirectiveInject","i1","ToastBoxModalService","i2","FieldService","i3","LocalStorageService","i4","ValueService","i5","ProjectService","i6","Router","_2","selectors","decls","vars","consts","template","NotebookViewComponent_Template","rf","ctx","NotebookViewComponent_Template_div_click_1_listener","ɵɵelement","ɵɵtemplate","NotebookViewComponent_div_8_Template","NotebookViewComponent_Template_div_click_9_listener","projectName"],"sources":["D:\\hoc\\mon\\LV\\Làm\\New folder\\nb-view\\src\\app\\feature\\farmer\\farmer-notebook\\components\\notebook-view\\notebook-view.component.ts","D:\\hoc\\mon\\LV\\Làm\\New folder\\nb-view\\src\\app\\feature\\farmer\\farmer-notebook\\components\\notebook-view\\notebook-view.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FieldService } from 'src/app/core/services/field/field.service';\r\nimport { LocalStorageService } from 'src/app/core/services/local-storage.service';\r\nimport { ProjectService } from 'src/app/core/services/project/project.service';\r\nimport { ValueService } from 'src/app/core/services/value/value.service';\r\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport { ToastBoxModalService } from 'src/app/core/services/toast-box-modal.service';\r\n\r\n@Component({\r\n  selector: 'app-notebook-view',\r\n  templateUrl: './notebook-view.component.html',\r\n  styleUrls: ['./notebook-view.component.scss']\r\n})\r\nexport class NotebookViewComponent {\r\n\r\n  faArrowLeft=faArrowLeft;\r\n\r\n  fieldList: any = [];\r\n  fieldListValue: any  = [];\r\n  processInfo: any;\r\n\r\n  constructor( private toastSV: ToastBoxModalService,\r\n    private fieldSV: FieldService, private localStorageSV: LocalStorageService, private valueSV: ValueService, private processSV: ProjectService, private router: Router) {\r\n    this.processSV.getProjectById(this.localStorageSV.getItem(\"project\")?.projectId).subscribe((project) => {\r\n      this.processInfo = project;\r\n    })\r\n    this.fieldSV.getFieldByNotebookId(this.localStorageSV.getItem(\"notebook\")?.notebookId).subscribe((data: any) => {\r\n      this.fieldList = data;\r\n      this.fieldList.forEach((item: any) => {\r\n        item.fieldValues.push({value: ''})\r\n      })\r\n      console.log(\"data\", data);\r\n      // this.fieldList.forEach((field: any, index) => {\r\n      //   this.valueSV.\r\n      // })\r\n    })\r\n    // this.valueSV.getValueList().subscribe((data: any) => {\r\n    //   this.fieldList = data;\r\n    //   this.fieldList.forEach((item: any) => {\r\n    //     this.fieldSV.getFieldById(item.valueFieldId).subscribe((field: any) => {\r\n    //       // console.log(field);\r\n    //       item.fieldName = field.fieldName;\r\n    //       console.log(this.fieldList);\r\n    //     })\r\n    //   })\r\n    // })\r\n  }\r\n\r\n  onChangeInput() {\r\n    console.log(this.fieldList);\r\n  }\r\n\r\n  save() {\r\n    this.fieldList.forEach((item: any) => {\r\n      console.log(\"item: \", item);\r\n      if(item?.fieldValues[0]!=undefined || item?.fieldValues[0]!='') {\r\n        let fieldValue = {\r\n          value: item.fieldValues[0].value,\r\n          valueFieldId: item.fieldId\r\n        }\r\n        console.log(\"field value: \", fieldValue);\r\n        this.valueSV.createValue(fieldValue).subscribe((data) => {\r\n          console.log(data);\r\n        })\r\n      }\r\n    })\r\n\r\n    setTimeout(() => {\r\n      this.toastSV.sendMessage({\r\n        isDisplay: true,\r\n        message: 'Cập nhật notebook thành công',\r\n        icon: 'success',\r\n      });\r\n    }, 1000);\r\n    \r\n    // this.valueSV.createValue\r\n  }\r\n  backtoDetail() {\r\n    this.router.navigateByUrl(\"/farmer/process/detail\")\r\n  }\r\n\r\n}\r\n","<div class=\"notebook\">\r\n    <div class=\"notebook__back\" (click)=\"backtoDetail()\">\r\n        <fa-icon [icon]=\"faArrowLeft\"></fa-icon>\r\n        Quay lại\r\n    </div>\r\n    <div class=\"heading\">\r\n        {{ processInfo.projectName }}\r\n    </div>\r\n    <!-- General infomation\r\n        \r\n        <div class=\"infomation-title__name\">\r\n            Name\r\n            <div class=\"infomation-title__name-input\">\r\n                <input>\r\n            </div>\r\n        </div>\r\n        <div class=\"infomation-title__address\">\r\n            Address\r\n            <div class=\"infomation-title__address-input\">\r\n                <input>\r\n            </div>\r\n        </div> -->\r\n    <div class=\"details\">\r\n        Sổ nhật ký\r\n        <div class=\"infomation-title__name\" *ngFor=\"let field of fieldList; let i=index\">\r\n            {{ field.fieldName }}\r\n            <div class=\"infomation-title__name-input\" >\r\n                <input [(ngModel)]=\"field?.fieldValues[0].value\" (keyup)=\"onChangeInput()\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"save-btn\" (click)=\"save()\">\r\n        Save\r\n    </div>\r\n</div>"],"mappings":"AAMA,SAASA,WAAW,QAAQ,mCAAmC;;;;;;;;;;;;;;ICkBvDC,EAAA,CAAAC,cAAA,aAAiF;IAC7ED,EAAA,CAAAE,MAAA,GACA;IAAAF,EAAA,CAAAC,cAAA,aAA2C;IAChCD,EAAA,CAAAG,UAAA,2BAAAC,oEAAAC,MAAA;MAAA,MAAAC,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAC,QAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,OAAaV,EAAA,CAAAW,WAAA,EAAAF,QAAA,kBAAAA,QAAA,CAAAG,WAAA,CAAmB,CAAC,GAAAC,KAAA,GAAAR,MAAA,CAAe;IAAA,EAAP,mBAAAS,4DAAA;MAAAd,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAO,MAAA,GAAAf,EAAA,CAAAgB,aAAA;MAAA,OAAUhB,EAAA,CAAAW,WAAA,CAAAI,MAAA,CAAAE,aAAA,EAAe;IAAA,EAAzB;IAAhDjB,EAAA,CAAAkB,YAAA,EAA2E;;;;IAF/ElB,EAAA,CAAAmB,SAAA,GACA;IADAnB,EAAA,CAAAoB,kBAAA,MAAAX,QAAA,CAAAY,SAAA,MACA;IACWrB,EAAA,CAAAmB,SAAA,GAAyC;IAAzCnB,EAAA,CAAAsB,UAAA,YAAAb,QAAA,kBAAAA,QAAA,CAAAG,WAAA,IAAAC,KAAA,CAAyC;;;ADbhE,OAAM,MAAOU,qBAAqB;EAQhCC,YAAqBC,OAA6B,EACxCC,OAAqB,EAAUC,cAAmC,EAAUC,OAAqB,EAAUC,SAAyB,EAAUC,MAAc;IADjJ,KAAAL,OAAO,GAAPA,OAAO;IAClB,KAAAC,OAAO,GAAPA,OAAO;IAAwB,KAAAC,cAAc,GAAdA,cAAc;IAA+B,KAAAC,OAAO,GAAPA,OAAO;IAAwB,KAAAC,SAAS,GAATA,SAAS;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAP9J,KAAA/B,WAAW,GAACA,WAAW;IAEvB,KAAAgC,SAAS,GAAQ,EAAE;IACnB,KAAAC,cAAc,GAAS,EAAE;IAKvB,IAAI,CAACH,SAAS,CAACI,cAAc,CAAC,IAAI,CAACN,cAAc,CAACO,OAAO,CAAC,SAAS,CAAC,EAAEC,SAAS,CAAC,CAACC,SAAS,CAAEC,OAAO,IAAI;MACrG,IAAI,CAACC,WAAW,GAAGD,OAAO;IAC5B,CAAC,CAAC;IACF,IAAI,CAACX,OAAO,CAACa,oBAAoB,CAAC,IAAI,CAACZ,cAAc,CAACO,OAAO,CAAC,UAAU,CAAC,EAAEM,UAAU,CAAC,CAACJ,SAAS,CAAEK,IAAS,IAAI;MAC7G,IAAI,CAACV,SAAS,GAAGU,IAAI;MACrB,IAAI,CAACV,SAAS,CAACW,OAAO,CAAEC,IAAS,IAAI;QACnCA,IAAI,CAAC/B,WAAW,CAACgC,IAAI,CAAC;UAAC/B,KAAK,EAAE;QAAE,CAAC,CAAC;MACpC,CAAC,CAAC;MACFgC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEL,IAAI,CAAC;MACzB;MACA;MACA;IACF,CAAC,CAAC;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;;EAEAxB,aAAaA,CAAA;IACX4B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,SAAS,CAAC;EAC7B;EAEAgB,IAAIA,CAAA;IACF,IAAI,CAAChB,SAAS,CAACW,OAAO,CAAEC,IAAS,IAAI;MACnCE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEH,IAAI,CAAC;MAC3B,IAAGA,IAAI,EAAE/B,WAAW,CAAC,CAAC,CAAC,IAAEoC,SAAS,IAAIL,IAAI,EAAE/B,WAAW,CAAC,CAAC,CAAC,IAAE,EAAE,EAAE;QAC9D,IAAIqC,UAAU,GAAG;UACfpC,KAAK,EAAE8B,IAAI,CAAC/B,WAAW,CAAC,CAAC,CAAC,CAACC,KAAK;UAChCqC,YAAY,EAAEP,IAAI,CAACQ;SACpB;QACDN,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEG,UAAU,CAAC;QACxC,IAAI,CAACrB,OAAO,CAACwB,WAAW,CAACH,UAAU,CAAC,CAACb,SAAS,CAAEK,IAAI,IAAI;UACtDI,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;QACnB,CAAC,CAAC;;IAEN,CAAC,CAAC;IAEFY,UAAU,CAAC,MAAK;MACd,IAAI,CAAC5B,OAAO,CAAC6B,WAAW,CAAC;QACvBC,SAAS,EAAE,IAAI;QACfC,OAAO,EAAE,8BAA8B;QACvCC,IAAI,EAAE;OACP,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;IAER;EACF;;EACAC,YAAYA,CAAA;IACV,IAAI,CAAC5B,MAAM,CAAC6B,aAAa,CAAC,wBAAwB,CAAC;EACrD;EAAC,QAAAC,CAAA,G;qBAlEUrC,qBAAqB,EAAAvB,EAAA,CAAA6D,iBAAA,CAAAC,EAAA,CAAAC,oBAAA,GAAA/D,EAAA,CAAA6D,iBAAA,CAAAG,EAAA,CAAAC,YAAA,GAAAjE,EAAA,CAAA6D,iBAAA,CAAAK,EAAA,CAAAC,mBAAA,GAAAnE,EAAA,CAAA6D,iBAAA,CAAAO,EAAA,CAAAC,YAAA,GAAArE,EAAA,CAAA6D,iBAAA,CAAAS,EAAA,CAAAC,cAAA,GAAAvE,EAAA,CAAA6D,iBAAA,CAAAW,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAArBnD,qBAAqB;IAAAoD,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCdlCjF,EAAA,CAAAC,cAAA,aAAsB;QACUD,EAAA,CAAAG,UAAA,mBAAAgF,oDAAA;UAAA,OAASD,GAAA,CAAAxB,YAAA,EAAc;QAAA,EAAC;QAChD1D,EAAA,CAAAoF,SAAA,iBAAwC;QACxCpF,EAAA,CAAAE,MAAA,sBACJ;QAAAF,EAAA,CAAAkB,YAAA,EAAM;QACNlB,EAAA,CAAAC,cAAA,aAAqB;QACjBD,EAAA,CAAAE,MAAA,GACJ;QAAAF,EAAA,CAAAkB,YAAA,EAAM;QAeNlB,EAAA,CAAAC,cAAA,aAAqB;QACjBD,EAAA,CAAAE,MAAA,kCACA;QAAAF,EAAA,CAAAqF,UAAA,IAAAC,oCAAA,iBAKM;QACVtF,EAAA,CAAAkB,YAAA,EAAM;QACNlB,EAAA,CAAAC,cAAA,aAAuC;QAAjBD,EAAA,CAAAG,UAAA,mBAAAoF,oDAAA;UAAA,OAASL,GAAA,CAAAnC,IAAA,EAAM;QAAA,EAAC;QAClC/C,EAAA,CAAAE,MAAA,cACJ;QAAAF,EAAA,CAAAkB,YAAA,EAAM;;;QA/BOlB,EAAA,CAAAmB,SAAA,GAAoB;QAApBnB,EAAA,CAAAsB,UAAA,SAAA4D,GAAA,CAAAnF,WAAA,CAAoB;QAI7BC,EAAA,CAAAmB,SAAA,GACJ;QADInB,EAAA,CAAAoB,kBAAA,MAAA8D,GAAA,CAAA5C,WAAA,CAAAkD,WAAA,MACJ;QAiB0DxF,EAAA,CAAAmB,SAAA,GAAc;QAAdnB,EAAA,CAAAsB,UAAA,YAAA4D,GAAA,CAAAnD,SAAA,CAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}